[2025-05-08 18:18:29.958 GMT 13	Warning	100405	Orleans.Runtime.Silo]	Note: Silo not running with ServerGC turned on - recommend checking app config : <configuration>-<runtime>-<gcServer enabled="true">	
[2025-05-08 18:18:29.959 GMT 13	Warning	100405	Orleans.Runtime.Silo]	Note: ServerGC only kicks in on multi-core systems (settings enabling ServerGC have no effect on single-core machines).	
[2025-05-08 18:18:30.439 GMT 5	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/5B: Expected = 88862fd0707d467ea4a990e205cb4a0d Received = (null)	
[2025-05-08 18:18:30.439 GMT 28	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/5B: Expected = 88862fd0707d467ea4a990e205cb4a0d Received = (null)	
[2025-05-08 18:18:30.440 GMT 13	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/5B: Expected = 88862fd0707d467ea4a990e205cb4a0d Received = (null)	
[2025-05-08 18:18:30.446 GMT 27	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/5B(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.448 GMT 27	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 paymentactor/FA1]->[S127.0.0.1:27444:105733109 selleractor/5B] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessNewInvoice(OnlineMarket.Core.Common.Events.InvoiceIssued) #86: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessNewInvoice(InvoiceIssued invoice) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 75
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.450 GMT 27	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/5B(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.451 GMT 27	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 paymentactor/FA1]->[S127.0.0.1:27444:105733109 selleractor/5B] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessPaymentConfirmed(OnlineMarket.Core.Common.Events.PaymentConfirmed) #87: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessPaymentConfirmed(PaymentConfirmed evt) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 85
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.451 GMT 27	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/5B(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.452 GMT 27	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 shipmentactor/0]->[S127.0.0.1:27444:105733109 selleractor/5B] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessShipmentNotification(ShipmentNotification { CustomerId = 4001, OrderId = 1, EventDate = 5/8/2025 6:18:30 PM, InstanceId = 03cd40ae-2292-4c23-8edf-5ba01fbd8767, Status = approved, SellerId = 91 }) #98: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 88862fd0707d467ea4a990e205cb4a0d Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessShipmentNotification(ShipmentNotification sn) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 132
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.944 GMT 13	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/34: Expected = 58f698bac5324c5a8e518bb55f068a0a Received = (null)	
[2025-05-08 18:18:30.949 GMT 27	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/34(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 58f698bac5324c5a8e518bb55f068a0a Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.950 GMT 27	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 sys.client/08c05531b70e4831b3780e475f8fec1a]->[S127.0.0.1:27444:105733109 selleractor/34] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessPaymentConfirmed(OnlineMarket.Core.Common.Events.PaymentConfirmed) #188: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 58f698bac5324c5a8e518bb55f068a0a Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessPaymentConfirmed(PaymentConfirmed evt) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 85
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.964 GMT 13	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/47: Expected = e98263be31f845a7a04beefea43b3bb7 Received = (null)	
[2025-05-08 18:18:30.965 GMT 28	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/47(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = e98263be31f845a7a04beefea43b3bb7 Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:30.965 GMT 28	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 sys.client/08c05531b70e4831b3780e475f8fec1a]->[S127.0.0.1:27444:105733109 selleractor/47] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessShipmentNotification(ShipmentNotification { CustomerId = 4, OrderId = 1004, EventDate = 5/8/2025 6:18:30 PM, InstanceId = 60bfc330-e47d-4f41-beb8-c7d8c555a79c, Status = approved, SellerId = 71 }) #217: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = e98263be31f845a7a04beefea43b3bb7 Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessShipmentNotification(ShipmentNotification sn) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 132
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:33.979 GMT 27	Warning	0	Orleans.Storage.MemoryStorageGrain]	Etag mismatch during Update for grain orderEntries/selleractor/36: Expected = 07c4008513984dbeb188e16187884437 Received = (null)	
[2025-05-08 18:18:33.980 GMT 14	Error	102203	Orleans.Storage.MemoryGrainStorage]	!!!!!!!!!! Error from storage provider MemoryGrainStorage.orderEntries during WriteStateAsync for grain selleractor/36(null)	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 07c4008513984dbeb188e16187884437 Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:33.981 GMT 14	Warning	100322	Orleans.Grain.InvokeException]	Exception during Grain method call of message OneWay [S127.0.0.1:27444:105733109 sys.client/08c05531b70e4831b3780e475f8fec1a]->[S127.0.0.1:27444:105733109 selleractor/36] OnlineMarket.OrleansImpl.Interfaces.ISellerActor[(OnlineMarket.OrleansImpl.Interfaces.ISellerActor)OnlineMarket.OrleansImpl.Grains.SellerActor].ProcessShipmentNotification(ShipmentNotification { CustomerId = 4, OrderId = 1004, EventDate = 5/8/2025 6:18:33 PM, InstanceId = 84a7505e-5189-4d8d-aa13-cf380091cc4e, Status = approved, SellerId = 54 }) #230: 	
Exc level 0: Orleans.Storage.InconsistentStateException: e-Tag mismatch in Memory Storage. Stored = 07c4008513984dbeb188e16187884437 Received = 
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 106
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 90
   at Orleans.Core.StateStorageBridge`1.OnError(Exception exception, ErrorCode id, String operation) in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 171
   at Orleans.Core.StateStorageBridge`1.WriteStateAsync() in /_/src/Orleans.Runtime/Storage/StateStorageBridge.cs:line 96
   at OnlineMarket.Core.Services.SellerServiceCore.ProcessShipmentNotification(ShipmentNotification sn) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.Core/Services/SellerServiceCore.cs:line 132
   at Orleans.Runtime.TaskRequest.CompleteInvokeAsync(Task resultTask) in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 761
Exc level 1: Orleans.Storage.Internal.MemoryStorageEtagMismatchException: Exception of type 'Orleans.Storage.Internal.MemoryStorageEtagMismatchException' was thrown.
   at Orleans.Storage.MemoryStorageGrain.ValidateEtag(String currentETag, String receivedEtag, String grainStoreKey, String operation) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 91
   at Orleans.Storage.MemoryStorageGrain.WriteStateAsync[T](String grainStoreKey, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorageGrain.cs:line 35
   at OrleansCodeGen.Orleans.Storage.Invokable_IMemoryStorageGrain_GrainReference_7CC6CA25_1`1.InvokeInner() in /_/src/Orleans.Core/Orleans.CodeGenerator/Orleans.CodeGenerator.OrleansSerializationSourceGenerator/Orleans.Core.orleans.g.cs:line 5227
   at Orleans.Runtime.TaskRequest`1.Invoke() in /_/src/Orleans.Core.Abstractions/Runtime/GrainReference.cs:line 691
--- End of stack trace from previous location ---
   at Orleans.Serialization.Invocation.ResponseCompletionSource`1.GetResult(Int16 token) in /_/src/Orleans.Serialization/Invocation/ResponseCompletionSource.cs:line 230
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at Orleans.Storage.MemoryGrainStorage.WriteStateAsync[T](String grainType, GrainId grainId, IGrainState`1 grainState) in /_/src/Orleans.Persistence.Memory/Storage/MemoryStorage.cs:line 101
[2025-05-08 18:18:40.182 GMT 14	Error	100513	Orleans.Grain]	!!!!!!!!!! Error activating grain [Activation: S127.0.0.1:27444:105733109/sellerviewactor/1B5A@1dfc86b2000c466faa26a06efc4588b4#GrainType=OnlineMarket.OrleansImpl.Grains.SellerViewActor,OnlineMarket.OrleansImpl Placement=RandomPlacement State=Activating]	
Exc level 0: System.TypeLoadException: Could not load type 'Npgsql.Internal.TypeMapping.IUserEnumTypeMapping' from assembly 'Npgsql, Version=8.0.0.0, Culture=neutral, PublicKeyToken=5d8b90d52f46fda7'.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource.SetupEnumMappings(ISqlGenerationHelper sqlGenerationHelper, NpgsqlDataSource dataSource)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource.LoadUserDefinedTypeMappings(ISqlGenerationHelper sqlGenerationHelper, NpgsqlDataSource dataSource)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource..ctor(TypeMappingSourceDependencies dependencies, RelationalTypeMappingSourceDependencies relationalDependencies, ISqlGenerationHelper sqlGenerationHelper, INpgsqlSingletonOptions options)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.NpgsqlServiceCollectionExtensions.<>c.<AddEntityFrameworkNpgsql>b__1_1(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at OnlineMarket.OrleansImpl.Grains.SellerViewActor.OnActivateAsync(CancellationToken _) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.OrleansImpl/Grains/SellerViewActor.cs:line 50
   at OnlineMarket.OrleansImpl.Grains.SellerViewActor.OnActivateAsync(CancellationToken _) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.OrleansImpl/Grains/SellerViewActor.cs:line 61
   at Orleans.Internal.OrleansTaskExtentions.WithCancellation(Task taskToComplete, String message, CancellationToken cancellationToken) in /_/src/Orleans.Core/Async/TaskExtensions.cs:line 145
   at Orleans.Runtime.ActivationData.<ActivateAsync>g__CallActivateAsync|139_0(Dictionary`2 requestContextData, CancellationToken cancellationToken) in /_/src/Orleans.Runtime/Catalog/ActivationData.cs:line 1403
[2025-05-08 18:18:40.197 GMT 5	Error	100513	Orleans.Grain]	!!!!!!!!!! Error activating grain [Activation: S127.0.0.1:27444:105733109/sellerviewactor/1B59@a81bcde6cc7c4093a7013fb2ec8e56e6#GrainType=OnlineMarket.OrleansImpl.Grains.SellerViewActor,OnlineMarket.OrleansImpl Placement=RandomPlacement State=Activating]	
Exc level 0: System.TypeLoadException: Could not load type 'Npgsql.Internal.TypeMapping.IUserEnumTypeMapping' from assembly 'Npgsql, Version=8.0.0.0, Culture=neutral, PublicKeyToken=5d8b90d52f46fda7'.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource.SetupEnumMappings(ISqlGenerationHelper sqlGenerationHelper, NpgsqlDataSource dataSource)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource.LoadUserDefinedTypeMappings(ISqlGenerationHelper sqlGenerationHelper, NpgsqlDataSource dataSource)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlTypeMappingSource..ctor(TypeMappingSourceDependencies dependencies, RelationalTypeMappingSourceDependencies relationalDependencies, ISqlGenerationHelper sqlGenerationHelper, INpgsqlSingletonOptions options)
   at InvokeStub_NpgsqlTypeMappingSource..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.NpgsqlServiceCollectionExtensions.<>c.<AddEntityFrameworkNpgsql>b__1_1(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at OnlineMarket.OrleansImpl.Grains.SellerViewActor.OnActivateAsync(CancellationToken _) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.OrleansImpl/Grains/SellerViewActor.cs:line 50
   at OnlineMarket.OrleansImpl.Grains.SellerViewActor.OnActivateAsync(CancellationToken _) in /Users/qiming/OnlineMarketLibrary-CSharp/OnlineMarket.OrleansImpl/Grains/SellerViewActor.cs:line 61
   at Orleans.Internal.OrleansTaskExtentions.WithCancellation(Task taskToComplete, String message, CancellationToken cancellationToken) in /_/src/Orleans.Core/Async/TaskExtensions.cs:line 145
   at Orleans.Runtime.ActivationData.<ActivateAsync>g__CallActivateAsync|139_0(Dictionary`2 requestContextData, CancellationToken cancellationToken) in /_/src/Orleans.Runtime/Catalog/ActivationData.cs:line 1403
[2025-05-08 18:18:45.452 GMT 27	Warning	0	OnlineMarket.Core.Services.StockServiceCore]	Stock 52:102 running out	
